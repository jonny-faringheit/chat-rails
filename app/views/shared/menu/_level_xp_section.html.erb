<!-- Level and XP Section -->
<% unless current_page? achievements_path %>
  <%= link_to achievements_path, class: "block px-4 py-4 border-t border-gray-100 hover:bg-gray-50 transition-colors" do %>
    <div class="flex items-center justify-between mb-2">
      <span class="text-sm font-medium text-gray-700">–£—Ä–æ–≤–µ–Ω—å <%= current_user.level %></span>
      <div class="flex items-center space-x-2">
        <span class="text-sm text-gray-500"><%= current_user.xp_progress %> / <%= current_user.xp_needed_for_next_level %> XP</span>
        <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
      </div>
    </div>
    <div class="w-full bg-gray-200 rounded-full h-2.5">
      <div class="bg-gradient-to-r from-orange-400 to-orange-600 h-2.5 rounded-full transition-all duration-300" style="width: <%= current_user.level_progress_percentage %>%"></div>
    </div>
    <div class="flex items-center justify-between mt-2">
      <span class="text-sm text-orange-600 font-medium">
        üèÜ <%= current_user.achievements.count %> –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
      </span>
      <span class="text-sm text-gray-500">
        <%= current_user.level_progress_percentage %>% –¥–æ —É—Ä–æ–≤–Ω—è <%= current_user.level + 1 %>
      </span>
    </div>
  <% end %>
<% else %>
  <div class="block px-4 py-4 border-t border-gray-100">
    <div class="flex items-center justify-between mb-2">
      <span class="text-sm font-medium text-gray-700">–£—Ä–æ–≤–µ–Ω—å <%= current_user.level %></span>
      <div class="flex items-center space-x-2">
        <span class="text-sm text-gray-500"><%= current_user.xp_progress %> / <%= current_user.xp_needed_for_next_level %> XP</span>
        <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
      </div>
    </div>
    <div class="w-full bg-gray-200 rounded-full h-2.5">
      <div class="bg-gradient-to-r from-orange-400 to-orange-600 h-2.5 rounded-full transition-all duration-300" style="width: <%= current_user.level_progress_percentage %>%"></div>
    </div>
    <div class="flex items-center justify-between mt-2">
      <span class="text-sm text-orange-600 font-medium">
        üèÜ <%= current_user.achievements.count %> –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
      </span>
      <span class="text-sm text-gray-500">
        <%= current_user.level_progress_percentage %>% –¥–æ —É—Ä–æ–≤–Ω—è <%= current_user.level + 1 %>
      </span>
    </div>
  </div>
<% end %>
<!-- End of Level and XP Section -->
